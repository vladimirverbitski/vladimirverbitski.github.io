{"version":3,"sources":["api/api.ts","utils/sort.ts","components/NewsComment/news-comment.ts","store/store.ts","components/NewsComment/NewsComment.tsx","components/Preloader/Preloader.tsx","utils/dateConverter.ts","modules/NewsDetail/NewsDetail.tsx","assets/img/icon-comments.png","assets/img/icon-refresh.png","components/NewsCard/NewsCard.tsx","assets/img/icon-rating.png","modules/NewsList/NewsList.tsx","utils/useInterval.ts","components/AppRouter/AppRouter.tsx","components/Layout/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["API_URL","getTopStories","setIsLoading","axios","get","then","res","data","response","detailResult","slice","map","id","Promise","all","result","setIsLoaded","sort","a","b","Date","time","valueOf","sortByDate","getItem","getItemComments","ids","comments","comment","replies","newsComment","fetchNews","createAsyncThunk","fetchNewsItem","fetchNewsComments","fetchCommentReplies","appSlice","createSlice","name","initialState","loading","newsList","newsItem","newsComments","error","reducers","state","action","payload","commentUpdate","console","log","commentId","existingPost","find","it","extraReducers","builder","addCase","fulfilled","selectAllNews","selectNewsItem","selectNewsComments","store","dispatch","useAppDispatch","useDispatch","actions","configureStore","reducer","NewsComment","useState","showReplies","setShowReplies","fetchReplies","kids","className","deleted","by","dangerouslySetInnerHTML","__html","text","length","onClick","Preloader","dateConverter","timestamp","format","NewsDetail","useParams","isLoaded","useSelector","item","useEffect","getNewsItem","Number","to","src","alt","descendants","title","href","url","target","rel","NewsCard","score","pathname","NewsList","newsItems","getNewsList","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","AppRouter","exact","path","component","Layout","props","children","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2891a6a6.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { NewsItem } from '../components/NewsCard/NewsCard';\r\nimport { sortByDate } from '../utils/sort';\r\nimport { setIsLoaded, setIsLoading } from '../store/store';\r\nimport { newsComment } from '../components/NewsComment/news-comment';\r\n\r\n\r\nexport const API_URL = 'https://hacker-news.firebaseio.com/v0';\r\n\r\nexport const getTopStories = (): Promise<NewsItem[]> => {\r\n    setIsLoading();\r\n    return axios.get(`${ API_URL }/topstories.json`)\r\n        .then(res => res.data)\r\n        .then((response) => {\r\n            const result = response.slice(0, 100);\r\n            const detailResult: Promise<NewsItem>[] = result.map((id: number) => axios.get(`${ API_URL }/item/${ id }.json`)\r\n                .then(res => res.data));\r\n\r\n            return Promise.all(detailResult)\r\n                .then(result => {\r\n                    setIsLoaded();\r\n                    return sortByDate(result);\r\n                });\r\n        });\r\n};\r\n\r\nexport const getItem = (id: number): Promise<NewsItem> => {\r\n    setIsLoading();\r\n    return axios.get(`${ API_URL }/item/${ id }.json`)\r\n        .then(res => {\r\n            setIsLoaded();\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const getItemComments = (ids: number[]) => {\r\n    const comments = ids.map((id: number) => axios.get(`${ API_URL }/item/${ id }.json`)\r\n        .then(res => res.data));\r\n    return Promise.all(comments)\r\n        .then(res => res.map(comment => newsComment(comment)));\r\n};\r\n","import { NewsItem } from '../components/NewsCard/NewsCard';\r\n\r\n\r\nexport const sortByDate = (result: NewsItem[]) => {\r\n    return result.sort((a: NewsItem, b: NewsItem) => {\r\n        return new Date(b.time).valueOf() - new Date(a.time).valueOf();\r\n    });\r\n}\r\n","import { NewsItem } from '../NewsCard/NewsCard';\r\n\r\n\r\nexport const newsComment = (comment: NewsItem) => {\r\n    return {\r\n        ...comment,\r\n        replies: []\r\n    }\r\n}\r\n","import { configureStore, createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { getItem, getItemComments, getTopStories } from '../api/api';\r\nimport { NewsItem } from '../components/NewsCard/NewsCard';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nexport interface AppRootState {\r\n    loading: boolean,\r\n    newsList: NewsItem[],\r\n    newsItem: NewsItem,\r\n    newsComments: NewsItem[]\r\n}\r\n\r\nexport const fetchNews = createAsyncThunk('news/fetchNews', async () => await getTopStories());\r\nexport const fetchNewsItem = createAsyncThunk('news/fetchNewsItem', async (id: number) => getItem(id));\r\nexport const fetchNewsComments = createAsyncThunk(\r\n    'news/fetchNewsComments',\r\n    async (ids: number[]) => getItemComments(ids)\r\n);\r\nexport const fetchCommentReplies = createAsyncThunk(\r\n    'news/fetchCommentReplies',\r\n    async (ids: number[]) => getItemComments(ids)\r\n);\r\n\r\nconst appSlice = createSlice({\r\n    name: 'app',\r\n    initialState: {\r\n        loading: false,\r\n        newsList: [],\r\n        newsItem: null,\r\n        newsComments: [],\r\n        error: null\r\n    },\r\n    reducers: {\r\n        loading: (state, action: PayloadAction<boolean>) => {\r\n            state.loading = action.payload;\r\n        },\r\n        commentUpdate(state, action) {\r\n            console.log(action.payload);\r\n            const { commentId, replies } = action.payload;\r\n            const existingPost = state.newsComments.find((it: NewsItem) => commentId === it.id);\r\n            if (existingPost) {\r\n                // @ts-ignore\r\n                existingPost.replies = replies;\r\n            }\r\n            console.log(existingPost);\r\n        }\r\n    },\r\n    extraReducers(builder) {\r\n        builder\r\n            .addCase(fetchNews.fulfilled, (state, action: PayloadAction<any>) => {\r\n                state.newsList = action.payload;\r\n            })\r\n            .addCase(fetchNewsItem.fulfilled, (state, action: PayloadAction<any>) => {\r\n                state.newsItem = action.payload;\r\n            })\r\n            .addCase(fetchNewsComments.fulfilled, (state, action: PayloadAction<any>) => {\r\n                state.newsComments = action.payload;\r\n            });\r\n    }\r\n});\r\n\r\nexport const selectAllNews = (state: AppRootState) => state.newsList;\r\nexport const selectNewsItem = (state: AppRootState) => state.newsItem;\r\nexport const selectNewsComments = (state: AppRootState) => state.newsComments;\r\n\r\nexport const setIsLoaded = () => store.dispatch(loading(true));\r\nexport const setIsLoading = () => store.dispatch(loading(false));\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\n\r\nexport const { loading, commentUpdate } = appSlice.actions;\r\n\r\nexport const store = configureStore({\r\n    reducer: appSlice.reducer\r\n});\r\n","import { useState } from 'react';\r\nimport './NewsComment.css';\r\nimport { NewsItem } from '../NewsCard/NewsCard';\r\nimport { commentUpdate, fetchCommentReplies, useAppDispatch } from '../../store/store';\r\n\r\n\r\nexport function NewsComment({ comment }: { comment: NewsItem }) {\r\n    const [showReplies, setShowReplies] = useState(false);\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n    const getReplies = () => {\r\n        if (showReplies) {\r\n            setShowReplies(false);\r\n        } else {\r\n            fetchReplies();\r\n            setShowReplies(true);\r\n        }\r\n    };\r\n\r\n    const fetchReplies = () => {\r\n        dispatch(fetchCommentReplies(comment.kids)).then((res: any) => {\r\n            const replies = {\r\n                commentId: comment.id,\r\n                replies: res.payload\r\n            };\r\n            dispatch(commentUpdate(replies));\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"comment-block\">\r\n            <div className=\"news-info__author\">{ comment.deleted ? 'unknown' : comment.by }</div>\r\n            { comment.deleted\r\n                ? <div className=\"comment-text\"><i><s>deleted</s></i></div>\r\n                : <div className=\"comment-text\" dangerouslySetInnerHTML={ { __html: comment.text } }/> }\r\n\r\n            { comment?.kids?.length > 0 ?\r\n                <button className=\"replies-button\" onClick={ getReplies }>\r\n                    { showReplies ? 'hide' : 'show' } replies ({ comment?.kids?.length })\r\n                </button>\r\n                : '' }\r\n\r\n            { showReplies ?\r\n                <div className=\"replies-container\">\r\n                    { comment.replies.map((it: any) => <NewsComment key={ it.id } comment={ it }/>) }\r\n                </div>\r\n                : '' }\r\n        </div>\r\n    );\r\n}\r\n","import './Preloader.css';\r\n\r\n\r\nexport function Preloader() {\r\n    return (\r\n        <div className=\"preloader\">\r\n            <div className=\"lds-dual-ring\" />\r\n        </div>\r\n    );\r\n}\r\n","import { format } from 'date-fns';\r\n\r\n\r\nexport function dateConverter(timestamp: number) {\r\n    return format(new Date(timestamp * 1000), 'dd MMM yyyy HH:mm');\r\n}\r\n","import { useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { NewsItem } from '../../components/NewsCard/NewsCard';\r\nimport { NewsComment } from '../../components/NewsComment/NewsComment';\r\nimport { Preloader } from '../../components/Preloader/Preloader';\r\nimport { dateConverter } from '../../utils/dateConverter';\r\nimport commentsImg from '../../assets/img/icon-comments.png';\r\nimport refreshImg from '../../assets/img/icon-refresh.png';\r\nimport './NewsDetail.css';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n    AppRootState,\r\n    fetchNewsComments,\r\n    fetchNewsItem,\r\n    selectNewsComments,\r\n    selectNewsItem,\r\n    useAppDispatch\r\n} from '../../store/store';\r\nimport { useInterval } from '../../utils/useInterval';\r\n\r\n\r\nexport function NewsDetail() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const isLoaded = useSelector((state: AppRootState) => state.loading);\r\n    const item = useSelector(selectNewsItem);\r\n    const comments = useSelector(selectNewsComments);\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        getNewsItem(Number(id));\r\n    }, [dispatch]);\r\n\r\n    // useInterval(() => {\r\n    //     getNewsItem(Number(id));\r\n    // }, 60000);\r\n\r\n    const getNewsItem = (id: number): void => {\r\n        dispatch(fetchNewsItem(Number(id))).then((res: any) => {\r\n            if (res.payload.kids) {\r\n                dispatch(fetchNewsComments(res.payload.kids));\r\n            }\r\n        });\r\n    };\r\n\r\n    const updateReplies = () => {\r\n        dispatch(fetchNewsComments(item.kids));\r\n    };\r\n\r\n    if (!isLoaded) {\r\n        return <Preloader/>;\r\n    } else {\r\n        return (\r\n            <>\r\n                { item ?\r\n                    <div className=\"news-detail-container\">\r\n                        <div className=\"back-button\">\r\n                            <Link to=\"/\">\r\n                                <button className=\"btn-default\">Back</button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"detail-info\">\r\n                            <div className=\"news-info__author\">{ item.by }</div>\r\n                            <div className=\"news-date\">{ dateConverter(item.time) }</div>\r\n                            <div className=\"news-info-comments\">\r\n                                <img src={ commentsImg } alt=\"comments\"/>\r\n                                { item.descendants }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"news-title\">\r\n                            <h1>{ item.title }</h1>\r\n                        </div>\r\n                        <div className=\"news-link\">\r\n                            <a href={ item.url } target=\"_blank\" rel=\"noopener noreferrer\">{ item.url }</a>\r\n                        </div>\r\n                        <div className=\"news-comments\">\r\n                            <div className=\"news-comments-header\">\r\n                                <button className=\"update-replies\" onClick={ updateReplies }>\r\n                                    <img src={ refreshImg } alt=\"refresh\"/>\r\n                                </button>\r\n                                <h3>Comments:</h3>\r\n                            </div>\r\n                            { comments\r\n                                ? comments.map((comment: NewsItem) => <NewsComment key={ comment.id }\r\n                                                                                   comment={ comment }/>)\r\n                                : '' }\r\n                        </div>\r\n                    </div>\r\n                    : ''\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAl0lEQVRIiWNgGAUkAA8GBobHDAwM/ynEDxkYGNywWfCICobD8H1sFsAkKQHMUDP+wASYKDSQIKC5BSwE5IkNMkZcEtT2AYaDCPkAp8uI1Teo44Ao3w3ZOICDIZvRsKaix1Ca3ALuNwMDQzg+Wz0YKC9R/0Dpf6R7mjAoR7KIJhYgW0IzC2CWwC1gpoEFRxkgqegADczGBADWA1owfhpmmQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAADDUlEQVRIie2WQWhUVxSGv3PvxLUtSSUkCNIgLkSNkzErl9p5A9OgEwU7ziRZSQ1CEUpXpZCdiHYVsXQRM5NScBpSE5lRV110M00GacBNEhHU2oZI0k2hzZv3ThczymQyTpw4uvJf3Xfv/+53zuXd8w681zuSvK4xGE3ulqKeBDkGug9kF4DCM4ElICuevTV7b+xJU8DBaHK3KTKi8BnQsoXdFWUc345sFUBdcI+T7Ae+B3YCrkBGVW6Ltfn/XHcZICDabsSGED4FjZWD+1vQ5GwuPdMwOPjJ2XYx5ilgQCc1IBcLM6nH9QI9cjyxx7dcBokBqqLnC9n09UYzllA4MaJiFudy46l6wGr1OIkvQK4CvuL3F3ITPzcCfiMFI8mLolwBVj3svvu5sZXKdfO2wIVs6iowDXxo8S5Vr28AB8OJU8Fw4lSz4BrgAuAC8W5nqK0muNsZahORUREZrTZtV6WPUaeBHZZivCY4IP4o0Aa0lcfNkZpJAESObgKHIgOnVfXlEatq047cGC2UNuVA5bwEo2daTbHlgcJHVe88ty3u/vz0j8vbAYYiAzcrk6mUKjeN8XZcqwEFaPXWW77bDhTAt+vnQWoF/dz19cKGe9zjJJeAj601e/O3byxuF/pyv0iyD2VD8VDV04U76cyG66QwD+B7/uE3hQLMZVO3RCTz4llEMoU76QxUFxDh17Ij1gwwQFHNMLACrJTHbAK7RZ0AXFXt63Xinc0A38+NrajqsKoOV5bNTbU6GBkYE9VBhalCLnWyGfBa2lSr3aL/lcCawInSX+btyFZPLD+c/6ez6+CCCv0g4fauQ2t/Lv2eb2TTUDgx2NF1MPZsaf6XV3le3Qg4A58LOlry6KTx+PK3e+lH9YBHjif2+Ea+RegDfBHTMZu98VdDYICQk4iCjCt8ALggkyo6Y2Hu36L+AaXWxxrbq2gUiAEBYBU4N5dL/dRwxi/U68Q7PczXIENs3eytAxMW75t87oen9Yyv3YH0OvFOT0wfKhGgC+iAcnsrLKhyN4A3tRXwvd65/gewKCYonNMbzQAAAABJRU5ErkJggg==\"","import { Link } from 'react-router-dom';\r\nimport { dateConverter } from '../../utils/dateConverter';\r\nimport './NewsCard.css';\r\nimport rating from '../../assets/img/icon-rating.png';\r\n\r\n\r\nexport interface NewsItem {\r\n    by: string;\r\n    descendants: number;\r\n    id: number;\r\n    kids: Array<number>;\r\n    score: number;\r\n    time: number;\r\n    title: string;\r\n    type: string;\r\n    url: string;\r\n    parent: number;\r\n    text: string;\r\n    deleted: boolean;\r\n    replies: any[];\r\n}\r\n\r\nexport function NewsCard({ item }: { item: NewsItem }) {\r\n    return (\r\n        <div className=\"news-card\">\r\n            <div className=\"news-info\">\r\n                <div className=\"news-info-left\">\r\n                    <div className=\"news-info__author\">{ item.by }</div>\r\n                    <div className=\"news-info__date\">{ dateConverter(item.time) }</div>\r\n                    <div className=\"news-info-rating\">\r\n                        <img src={ rating } alt=\"\"/>\r\n                        { item.score }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"news-title\">\r\n                <h2>\r\n                    <Link to={ { pathname: `/news/${ item.id }` } }>\r\n                        { item.title }\r\n                    </Link>\r\n                </h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABgklEQVRIie2UPUvDYBSFn5vGDxSNCYiDVcHFwVWXNjr7E1ychPqx+F8c6yI4+A/EzcEqboofo0uLDmKN0c02uQ62kMa2aatuHngh78k953Dfm7zwjwRIdOOfjq4IsqdCuke/Eqo5a+ntuE4YjXGS/4E5wBQi+ShhfisALNcXeoBfsLTuUYfRorYpyhdOunzhdNVhVwF91WDLrASbfxKgRwworCPk9ITBXw94H7XWgAlg3O+31lQ70zZ+pl9DwnJ9eSnY0ynVQ0RngXEgFdOGwDNwH2CsOq5XjOoTO3Bcr2gYsgF8NDGvabUaimw7rlds5dO2zZGsd9tnmBmFm/g7gWuT/kU7+3rVziPxHIcy5QcRbuO8CnfD7vNjkr6zISvZ2tNTbUW5nwV4Z2MzQBqRA6mE82FF5lDZBSZfCvZ0kj5+VXyDBmKFJgt25vUyQu9452P7EqgNtBxwRwHOsnfdjI8FtkRXV0UviHdQAqbqP0yPKEU3jR2o5uIFXZt/efyjc3wCyuJ29coeCyIAAAAASUVORK5CYII=\"","import { useEffect, useState } from 'react';\r\nimport { ErrorAlert } from '../../components/ErrorAlert/ErrorAlert';\r\nimport { NewsCard, NewsItem } from '../../components/NewsCard/NewsCard';\r\nimport { Preloader } from '../../components/Preloader/Preloader';\r\nimport './NewsList.css';\r\nimport { AppRootState, fetchNews, selectAllNews } from '../../store/store';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useInterval } from '../../utils/useInterval';\r\n\r\n\r\nexport function NewsList() {\r\n    const isLoaded = useSelector((state: AppRootState) => state.loading);\r\n    const dispatch = useDispatch();\r\n    const newsItems = useSelector(selectAllNews);\r\n\r\n    useEffect(() => {\r\n        getNewsList();\r\n    }, [dispatch]);\r\n\r\n    useInterval(() => {\r\n        getNewsList();\r\n    }, 60000);\r\n\r\n    const getNewsList = () => {\r\n        dispatch(fetchNews());\r\n    };\r\n\r\n    if (!isLoaded) {\r\n        return <Preloader/>;\r\n    } else {\r\n        return (\r\n            <div className=\"news-list-container\">\r\n                <div className=\"action-bar\">\r\n                    <button className=\"btn-default\" onClick={ getNewsList }>Update</button>\r\n                </div>\r\n                { newsItems.map((item: NewsItem) => <NewsCard key={ item.id } item={ item }/>) }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n","import { useRef, useEffect } from 'react';\r\n\r\n\r\nexport function useInterval(callback: any, delay: number) {\r\n    const savedCallback = useRef<any>();\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n\r\n    useEffect(() => {\r\n        function tick() {\r\n            savedCallback.current();\r\n        }\r\n\r\n        if (delay !== null) {\r\n            let id = setInterval(tick, delay);\r\n            return () => clearInterval(id);\r\n        }\r\n    }, [delay]);\r\n}\r\n","import { Route, Switch } from 'react-router';\r\nimport { NewsDetail } from '../../modules/NewsDetail/NewsDetail';\r\nimport { NewsList } from '../../modules/NewsList/NewsList';\r\n\r\n\r\nexport function AppRouter() {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={ NewsList }/>\r\n            <Route exact path=\"/news/:id\" component={ NewsDetail }/>\r\n        </Switch>\r\n    );\r\n}\r\n","import './Layout.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function Layout(props: { title: string, children: any }) {\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"nav-bar\">\r\n                <div className=\"nav-bar-title\">\r\n                    <Link to=\"/\">\r\n                        { props.title }\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"content\">\r\n                { props.children }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import 'normalize.css';\nimport './App.css';\nimport { AppRouter } from './components/AppRouter/AppRouter';\nimport { Layout } from './components/Layout/Layout';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\n\nfunction App() {\n    const title = 'Hacker News';\n\n    return (\n        <Provider store={store}>\n            <Router>\n                <Layout title={ title }>\n                    <AppRouter/>\n                </Layout>\n            </Router>\n        </Provider>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}